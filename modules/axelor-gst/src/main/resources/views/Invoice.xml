<?xml version="1.0" encoding="UTF-8"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views
  http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">


	<kanban name="invoice-kanban" title="All Invoices" model="com.axelor.gst.db.Invoice"
		columnBy="status" sequenceBy="priority">
		<field name="status" />
		<field name="company" />
		<field name="reference" />
		<field name="dateTime" />
		<field name="useInvoiceAddress" />
		<field name="netAmount" />
		<field name="netIGST" />
		<field name="netCGST" />
		<field name="netSGST" />
		<field name="grossAmount" />
		<template><![CDATA[
  <h4>Invoice</h4>
  <strong>Company : {{company}}</strong>
  <div class="card-body">Reference : {{reference}} <br> Date : {{dateTime}}</div>
  <div class="card-footer">Gross Amount : {{grossAmount}}</div>
  ]]></template>
	</kanban>


	<grid name="invoice-grid" title="Invoice" model="com.axelor.gst.db.Invoice">

		<field name="status" />
		<field name="isConfirmed" title="Confirmed" />
		<field name="company" />
		<field name="reference" />
		<field name="dateTime" />
		<field name="useInvoiceAddress" />
		<field name="netAmount" />
		<field name="netIGST" />
		<field name="netCGST" />
		<field name="netSGST" />
		<field name="grossAmount" />

	</grid>

	<form name="invoice-form" title="Invoice" model="com.axelor.gst.db.Invoice"
		css="panel-red" onNew="action-gst-invoice-record-on-new">

		<panel title="Overview">
			<field name="status" widget="NavSelect" colspan="6" readonly="true" />
			<field name="isConfirmed" title="Confirmed" widget="boolean-switch"
				onChange="com.axelor.gst.controllers.InvoiceController:onConfirm" />
			<field name="company" required="true" />
			<field name="reference" readonly="true" />
			<field name="dateTime" />
			<field name="netAmount" title="Net Amount" readonly="true" />
			<field name="netIGST" title="Net IGST" readonly="true" />
			<field name="netCGST" title="Net CGST" readonly="true" />
			<field name="netSGST" title="Net SGST" readonly="true" />
			<field name="grossAmount" title="Net Gross Amount" readonly="true" />
		</panel>
		
		<panel-tabs>
			<panel title="Party Details" css="panel-blue">
				<field name="party" required="true"
					onChange="com.axelor.gst.controllers.InvoiceController:setParty" />
				<field name="partyContact" />
				<field name="invoiceAddress" required="true" />
				<field name="shippingAddress" />
				<field name="useInvoiceAddress"
					onChange="com.axelor.gst.controllers.InvoiceController:setShippingAddress" />
			</panel>
			<panel title="Invoice Items" css="panel-green">
				<field name="invoiceItemsList" colspan="12"
					onChange="com.axelor.gst.controllers.InvoiceController:calculateNetGST" />
			</panel>
		</panel-tabs>
	</form>

	<action-record name="action-gst-invoice-record-on-new"
		model="com.axelor.gst.db.Invoice">
		<field name="status" expr="1" />
		<field name="dateTime" expr="eval:__datetime__" />
	</action-record>

</object-views>